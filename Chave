package testePOOtp1;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Chave {

	public static final int MAX_BOLAS = 50;
	public static final int NUM_BOLAS = 5;
	public static final int NUM_ESTRELAS = 2;
	public static final int MAX_ESTRELAS = 12;
	private int ano = 0;
	private int semana = 0;
	private int[] bolas = new int [NUM_BOLAS];
	private int[] estrela = new int [NUM_ESTRELAS];


	public Chave() {
		ano=2020;
		semana=1;
		for (int i=0; i<bolas.length; i++)
			bolas[i]=i+1;
		estrela[0]=1;
		estrela[1]=2;
	}

	public Chave(int an, int sem, int bol[], int est[]) throws RuntimeException {
		ano=an;
		semana=sem;
		try {
			for (int i=0; i<bolas.length; i++)
			bolas[i]=bol[i];
			estrela[0]=est[0];
			estrela[1]=est[1];
		}catch (Exception e) {
			throw new RuntimeException("ERRO: Numero incorreto de bolas ou estrelas");
		}

	}

	public Chave(String linha)
	{
		//2022 21 2 4 10 30 36 2 7
		Scanner lerLinha = new Scanner(linha);
		try {
		    ano = lerLinha.nextInt();
		} catch (InputMismatchException e) {
		    throw new RuntimeException("tipo de dados invalido no ano");
		}
		if (ano < 1980 || ano > 2023) {
		    throw new RuntimeException("ano invalido");
		}

		try {
		    semana = lerLinha.nextInt();
		} catch (InputMismatchException e) {
		    throw new RuntimeException("tipo de dados invalido na semana");
		}

		for (int i = 0; i < bolas.length; i++) {
		    try {
		        bolas[i] = lerLinha.nextInt();
		    } catch (InputMismatchException e) {
		        throw new RuntimeException("tipo de dados invalido nas bolas");
		    }
		    if (bolas[i] < 1 || bolas[i] > 50) {
		        throw new RuntimeException("bola fora do intervalo valido");
		    }
		}

		try {
		    estrela[0] = lerLinha.nextInt();
		} catch (InputMismatchException e) {
		    throw new RuntimeException("tipo de dados invalido nas estrelas");
		}
		if (estrela[0] < 1 || estrela[0] > 12) {
		    throw new RuntimeException("estrela fora do intervalo valido");
		}

		try {
		    estrela[1] = lerLinha.nextInt();
		} catch (InputMismatchException e) {
		    throw new RuntimeException("tipo de dados invalido nas estrelas");
		}
		if (estrela[1] < 1 || estrela[1] > 12) {
		    throw new RuntimeException("estrela fora do intervalo valido");
		}

		lerLinha.close();
	}
	
	  public static void menuPrincipal() {
	        System.out.println("\n1 - Ler Ficheiro");
	        System.out.println("2 - Listar Chaves");
	        System.out.println("3 - Estatisticas");
	        System.out.println("4 - Consulta de chaves");
	        System.out.println("0 - Terminar\n");
	    }
	
	public String toString() {
		String tmp=String.format("{%d/%02d} |%02d|%02d|%02d|%02d|%02d| |%02d|%02d|",
				ano, semana, bolas[0],bolas[1],bolas[2],bolas[3],bolas[4],estrela[0],estrela[1]);
		return tmp;
	}


}

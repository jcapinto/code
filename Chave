package testePOOtp1;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Chave {

	public static final int MAX_BOLAS = 50;
	public static final int NUM_BOLAS = 5;
	public static final int NUM_ESTRELAS = 2;
	public static final int MAX_ESTRELAS = 12;
	private int ano = 0;
	private int semana = 0;
	private int[] bolas = new int [NUM_BOLAS];
	private int[] estrela = new int [NUM_ESTRELAS];

	public Chave() {
		this.ano=1980;
		this.semana=1;
		for (int i=0; i<bolas.length; i++)bolas[i]=i+1;
		estrela[0]=1;
		estrela[1]=2;
	}	
	
	public Chave(Chave that) {
		this.ano=that.ano;
		this.semana=that.semana;
		for (int i=0; i<bolas.length; i++)
			this.bolas[i]=that.bolas[i];
		this.estrela[0]=that.estrela[0];
		this.estrela[1]=that.estrela[1];
	}

	public Chave(int an, int sem, int bol1, int bol2, int bol3, int bol4, int bol5, int est1, int est2) throws RuntimeException {
		setAno(an);
		setSemana(sem);
		setBola(0,bol1);
		setBola(1,bol2);
		setBola(2,bol3);
		setBola(3,bol4);
		setBola(4,bol5);
		setEstrela(0,est1);
		setEstrela(1,est2);
	}

	public Chave(int an, int sem, int bol[], int est[]) throws RuntimeException {
		ano=an;
		semana=sem;
		try {
			for (int i=0; i<bolas.length; i++)
				bolas[i]=bol[i];
			    estrela[0]=est[0];
			    estrela[1]=est[1];
		}catch (Exception e) {
			throw new RuntimeException("ERRO: Numero incorreto de bolas ou estrelas");
		}

	}
	public int getBola(int n) throws RuntimeException {
		if (n<0||n>NUM_BOLAS) throw new RuntimeException("Indici invalido da bola");
		return bolas[n];
	}

	public int getEstrela(int n) throws RuntimeException {
		if (n<0||n>NUM_ESTRELAS) throw new RuntimeException("Indici invalido da estrela");
		return estrela[n];
	}

	public int getSemana() {
		return semana;
	}

	public int getAno() {
		return ano;
	}

	public void setSemana(int sem) throws RuntimeException {
		semana=sem;
		if (semana < 1 || semana > 52) {
			throw new RuntimeException("semana invalida");
		}
	}

	public void setAno(int an) throws RuntimeException {
		ano=an;
		if (ano < 1980 || ano > 2023) {
			throw new RuntimeException("ano invalido");
		}
	}

	public void setBola (int idx,int bol) throws RuntimeException {
		if (idx < 0 || idx > NUM_BOLAS) {
			throw new RuntimeException("indice invalido da bola");
		}
		if (bol < 1 || bol > MAX_BOLAS) {
			throw new RuntimeException("bola fora do intervalo valido");
		}
		bolas [idx]=bol;
	}

	public void setEstrela (int idx, int est) throws RuntimeException {
		if (idx < 0 || idx > NUM_ESTRELAS) {
			throw new RuntimeException("indice invalido da estrela");
		}
		if (est < 1 || est > MAX_ESTRELAS) {
			throw new RuntimeException("estrela fora do intervalo valido");
		}
		estrela [idx]=est;
	}


	


	public Chave(String linha)throws RuntimeException
	{
		//2022 21 2 4 10 30 36 2 7
		Scanner lerLinha = new Scanner(linha);
		try {
			setAno(lerLinha.nextInt());
		} catch (InputMismatchException e) {
			throw new RuntimeException("tipo de dados invalido no ano");
		}

		try {
			setSemana(lerLinha.nextInt());
		} catch (InputMismatchException e) {
			throw new RuntimeException("tipo de dados invalido na semana");
		}

		for (int i = 0; i < bolas.length; i++) {
			try {
				setBola(i,lerLinha.nextInt());
			} catch (InputMismatchException e) {
				throw new RuntimeException("tipo de dados invalido nas bolas");
			}			
		}

		for (int i = 0; i < estrela.length; i++) {
			try {
				setEstrela(i,lerLinha.nextInt());
			} catch (InputMismatchException e) {
				throw new RuntimeException("tipo de dados invalido nas estrelas");
			}			
		}

		lerLinha.close();
	}


	public String toString() {
		String tmp=String.format("{%d/%02d} |%02d|%02d|%02d|%02d|%02d| |%02d|%02d|",
				ano, semana, bolas[0],bolas[1],bolas[2],bolas[3],bolas[4],estrela[0],estrela[1]);
		return tmp;
	}


}
